<div class="panel panel-primary">
    <div class="panel-heading">
        <span class="panel-title">Latest pastes</span>
        <span class="pull-right">Total pastes: <span class="badge">{{$parent.module.data.count}}</span></span>
    </div>
    <div class="panel-body">
        <div class="table-responsive">
            <table class="table table-striped table-bordered table-condensed">
                <thead>
                    <tr>
                        <th>Paste name</th>
                        <th>Language</th>
                        <th>Link</th>
                        <th>Hits</th>
                        <th>Paste time</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="post in $parent.module.data.posts">
                        <td>
                            <a ng-href="/{{post.id}}{{post.language_short}}" data-toggle="tooltip" title="{{post.preview}} ...">
                                <span class="post-name">{{post.id}}{{post.language_short || '.' + post.language}}</span>
                            </a>
                        </td>
                        <td><span class="label label-success">{{post.language}}</span></td>
                        <td><a ng-href="/{{post.id}}{{post.language_short}}" target="_blank" class="btn btn-xs btn-primary">View <i class="fa fa-external-link"></i></a></td>
                        <td><span class="badge">{{post.hits}}</span> hits</td>
                        <td>{{post.hrt[0]}} ago</td>
                    </tr>
                </tbody>
            </table>
        </div>
        <center>
            <nav>
                <ul class="pagination">
                    <li>
                        <a ng-click="updateApi('/api/pastes/' + $parent.module.data.page_range[0])" aria-label="First">
                            <span aria-hidden="true">&laquo;</span>
                        </a>
                    </li>
                    <li ng-repeat="id in $parent.module.data.page_range" id="page-{{id}}" ng-class="{'active': id == $parent.module.data.page_current}">
                        <a ng-click="updateApi('/api/pastes/' + id)">{{id}}</a>
                    </li>
                    <li>
                        <a ng-click="updateApi('/api/pastes/' + $parent.module.data.page_range.slice(-1)[0])" aria-label="Last">
                            <span aria-hidden="true">&raquo;</span>
                        </a>
                    </li>
                  </ul>
            </nav>
        </center>
    </div>
</div>
